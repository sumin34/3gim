
<main>
    <div class="container-fluid px-4">
        <h1 class="mt-4">재고 상세</h1>
        <ol class="breadcrumb mb-4">
            <li class="breadcrumb-item"><a href="/home/index">메인 페이지</a></li>
            <li class="breadcrumb-item active">재고 상세 페이지</li>
        </ol>
        <div class="container-fluid px-4">

            <div class="card mb-4">
                
                <div class="card-body">
                    <div class="datatable-wrapper datatable-loading no-footer sortable searchable fixed-columns">
                    </div>
                    <div class="mb-3">
                        <label for="defaultInput" class="form-label">　수정할 상품명 조회</label>
                        <!-- <form  class="d-flex">-->
                        <div class="input-group">
                            <input type="text" id="inputBox" name="productname" class="form-control inputBox:hover" placeholder="Product Name Search">
                            <button class="btn btn-outline-info" onclick="sendRequest()"> 조회 </button>
                        </div>
                            <div id="dropdown" style="position:absolute; width:90%; background-color:white; border:1px solid #ccc;  z-index:1; display: none;"></div>

                            <script>
                            $(document).ready(function () {
                                const inputBox = $("#inputBox");
                                const dropdown = $("#dropdown");

                                inputBox.hover(function () {
                                    showDropdown();
                                }, function () {
                                    hideDropdown();
                                });

                                dropdown.hover(function () {
                                    showDropdown();
                                }, function () {
                                    hideDropdown();
                                });

                                function showDropdown() {
                                    dropdown.show();
                                }

                                function hideDropdown() {
                                    dropdown.hide();
                                }

                                // 이 부분에 사용 가능한 값(옵션)을 불러오는 코드를 추가해야 합니다.

                                console.log("여기?");
                                var modelData = @Html.Raw(Model);
                                console.log(modelData);


                                const availableValues = ["Option 1", "Option 2", "Option 3", "Option 4", "Option 5"];

                                inputBox.on("input", function () {
                                    const inputText = inputBox.val().toLowerCase();
                                    const filteredValues = availableValues.filter(value => value.toLowerCase().includes(inputText));

                                    if (filteredValues.length > 0) {
                                        dropdown.html("");
                                        filteredValues.forEach(value => {
                                            const option = $("<div class='option'>" + value + "</div>");
                                            option.click(function () {
                                                inputBox.val(value);
                                                hideDropdown();
                                            });
                                            dropdown.append(option);
                                        });
                                        showDropdown();
                                    } else {
                                        hideDropdown();
                                    }
                                });
                            });
                            </script>
                            <!--<select  id="lang">
                                <option value=test>나오는지 확인</option>

                            foreach(var product in Model)
                            {
                                    <option value=product>나오는지 확인</option>
                            }
                            </select>-->
                            







                        <!--</form> -->
                        <div class="datatable-container">

                            <div class="card-body">
                                조회 상품
                            </div>
                            <table id="datatablesSimple" class="datatable-table">

                                <thead>
                                    <tr>
                                        <th data-sortable="true" style="width: 20%;">상품 번호</th>
                                        <th data-sortable="true" style="width: 20%;">상품 이름</th>
                                        <th data-sortable="true" style="width: 20%;">가격</th>
                                        <th data-sortable="true" style="width: 20%;">유통기한</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-index="0">
                                        <td><div id="ProductID"></div></td>
                                        <td><div id="ProductName"></div></td>
                                        <td><div id="ProductPrice"></div></td>
                                        <td><div id="ProductExp"></div></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</main>
<!--
<script>



    function delEdit() {
        if (confirm("정말 삭제하시겠습니까??") == true) {    //확인
            var httpRequest = new XMLHttpRequest();
            var productname = document.getElementById("searchproduct").value;
            httpRequest.open("POST", "/product/delete/" + productname);
            httpRequest.send();

            document.location.href = '/product/edit';

        } else {   //취소

            return false;
        }
    }
    function sendRequest() {
        var httpRequest = new XMLHttpRequest();
        httpRequest.onreadystatechange = function () {
            if (httpRequest.readyState == XMLHttpRequest.DONE && httpRequest.status == 200) {
                console.log(httpRequest.responseText);
                var res = JSON.parse(httpRequest.responseText)

                document.getElementById("ProductID").innerHTML = res.ProductID
                document.getElementById("ProductName").innerHTML = res.ProductName
                document.getElementById("ProductPrice").innerHTML = res.ProductPrice
                document.getElementById("ProductExp").innerHTML = res.ProductExp

                document.getElementById("ProductIDEdit").value = res.ProductID
                document.getElementById("ProductNameEdit").value = res.ProductName
                document.getElementById("ProductPriceEdit").value = res.ProductPrice
                document.getElementById("ProductExpEdit").value = res.ProductExp


            }
        };
        var productname = document.getElementById("searchproduct").value;
        // GET 방식으로 요청을 보내면서 데이터를 동시에 전달함.
        httpRequest.open("GET", "/product/read/" + productname, true);
        httpRequest.send();
    }

</script>

-->