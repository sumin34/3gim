@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.1/signalr.js"></script>
<script>
    var connection = new signalR.HubConnectionBuilder().withUrl("/CameraHub").build();

    connection.on("ReceiveVideo", function (message) {

        document.getElementById("BeltViedo").src = "data:image/jpeg;base64," + message;
    })

    connection.start().then(function () {
        console.log("연결 성공 'BeltCamera'");
    }).catch(function (err) {
        console.log("연결 실패 'BeltCamera': " + err.toString());
    });

    connection.on("ReceiveVideo2", function (message) {

        document.getElementById("BeltViedo2").src = "data:image/jpeg;base64," + message;
    })

    connection.start().then(function () {
        console.log("연결 성공 'BeltCamera2'");
    }).catch(function (err) {
        console.log("연결 실패 'BeltCamera2': " + err.toString());
    });

</script>


<main>
    <div class="container-fluid px-5">
        <h1 class="mt-5">Manager</h1>

        <div class="row">
            <div class="col-xl-6 col-md-6">
                <div class="card bg-white text-dark mb-4">
                    <div class="card-header">Camera 1</div>
                    <div class="card-body">
                        <img src="" id="BeltViedo" style="width:200px; height:200px;" />
                    </div>
                </div>
            </div>
            <div class="col-xl-6 col-md-6">
                <div class="card bg-white text-dark mb-4">
                    <div class="card-header">AI</div>
                    <div class="card-body">
                        <img src="" id="" style="width:200px; height:200px;" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-6 col-md-6">
                <div class="card bg-white text-dark mb-4">
                    <div class="card-header">Camera 2</div>
                    <div class="card-body">
                        <img src="" id="BeltViedo2" style="width:200px; height:200px;" />
                    </div>
                </div>
            </div>
            <div class="col-xl-6 col-md-6">
                <div class="card bg-white text-dark mb-4">
                    <div class="card-header">Temperature</div>
                    <div class="card-body"><canvas id="myAreaChart" width="100" height="40"></canvas></div>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-6 col-md-6">
                    <div class="card bg-white text-dark mb-4">
                        <div class="card-header">
                            Belt Control Button
                            <button class="btn btn-dark">Start</button>
                            <button class="btn btn-dark">Stop</button>
                        </div>

                    </div>
                </div>
                <div class="col-xl-6 col-md-6">
                    <div class="card bg-white text-dark mb-4">
                        <div class="card-header">
                            Temperature Contorl Button
                            <button class="btn btn-dark">Up</button>
                            <button class="btn btn-dark"> Down</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</main>